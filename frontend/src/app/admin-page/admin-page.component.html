<div class="admin-page" fxLayout="column">
  <div class="admin-page__title">
    <h2>Hello Admin</h2>
  </div>
  <mat-divider></mat-divider>
  <div class="admin-page__disc">
    In this page we list the tickets and we can modify for it. We have two buttons that work for create new ticket.
    The tabs work for switching between tickets and users.
  </div>
  <div class="admin-page__content" fxFlex>
    <mat-tab-group>
      <mat-tab label="Routes">
        <div>
          <button mat-button color="accent" (click)="openDialog()">
            <mat-icon></mat-icon>
            <span>Add new route</span>
          </button>
        </div>
        <div class="mat-elevation-z8">
          <table mat-table [dataSource]="dataSourceTickets" matSort>

            <!-- ID Column -->
            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
              <td mat-cell *matCellDef="let row"> {{row.id}} </td>
            </ng-container>

            <!-- Progress Column -->
            <ng-container matColumnDef="fromto">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> From - To </th>
              <td mat-cell *matCellDef="let row"> {{row.from}} --- {{ row.to }}</td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="validto">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Valid to </th>
              <td mat-cell *matCellDef="let row"> {{row.startTime}} --- {{row.endTime}} </td>
            </ng-container>

            <!-- Color Column -->
            <ng-container matColumnDef="func">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Functions </th>
              <td mat-cell *matCellDef="let row">
                 <button mat-icon-button (click)="deleteRoute(row.id)">
                   <mat-icon>delete</mat-icon>
                 </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumnsTickets"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsTickets;"></tr>

          </table>
        </div>
      </mat-tab>
      <mat-tab label="Users">
        <div class="mat-elevation-z8">
          <table mat-table [dataSource]="dataSourceUsers" matSort>

            <!-- ID Column -->
            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
              <td mat-cell *matCellDef="let row"> {{row.id}} </td>
            </ng-container>

            <!-- Progress Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
              <td mat-cell *matCellDef="let row"> {{row.name}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="mail">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Created at </th>
              <td mat-cell *matCellDef="let row"> {{row.email}} </td>
            </ng-container>

            <!-- Color Column -->
            <ng-container matColumnDef="func">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Functions </th>
              <td mat-cell *matCellDef="let row">
                <button mat-icon-button (click)="deleteUser(row.id)">
                  <mat-icon>delete</mat-icon>
                </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumnsUsers"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsUsers;"></tr>

          </table>
        </div>
      </mat-tab>

      <mat-tab label="Veicles">
        <div class="mat-elevation-z8">
          <table mat-table [dataSource]="dataSourceVehicles" matSort>

            <!-- ID Column -->
            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
              <td mat-cell *matCellDef="let row"> {{row.id}} </td>
            </ng-container>

            <!-- Progress Column -->
            <ng-container matColumnDef="vehicle">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
              <td mat-cell *matCellDef="let row"> {{row.type}} </td>
            </ng-container>

            <ng-container matColumnDef="license">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
              <td mat-cell *matCellDef="let row"> {{row.license}} </td>
            </ng-container>

            <!-- Color Column -->
            <ng-container matColumnDef="func">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Functions </th>
              <td mat-cell *matCellDef="let row">
                <button mat-icon-button (click)="deleteVehicle(row.id)">
                  <mat-icon>delete</mat-icon>
                </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumnsVehicles"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsVehicles;"></tr>

          </table>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
